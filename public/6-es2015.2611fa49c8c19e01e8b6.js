(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{E5tf:function(e,t,i){"use strict";i.r(t),i.d(t,"ChildRoutesModule",(function(){return Fe}));var c=i("tyNb"),a=i("fXoL");let n=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Ub(0,"p"),a.Bc(1,"dashboard works!"),a.Tb())},encapsulation:2}),e})();var o=i("6nr9");let r=(()=>{class e{constructor(e){this.settingsService=e}ngOnInit(){this.settingsService.checkCurrentTheme()}changeTheme(e){this.settingsService.changeTheme(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(o.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme","working",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"h4"),a.Bc(5,"Seleccione el tema"),a.Tb(),a.Ub(6,"div",4),a.Ub(7,"ul",5),a.Ub(8,"li"),a.Ub(9,"b"),a.Bc(10,"Con el sidebar claro"),a.Tb(),a.Tb(),a.Ub(11,"li"),a.Ub(12,"a",6),a.bc("click",(function(){return t.changeTheme("default")})),a.Bc(13,"1"),a.Tb(),a.Tb(),a.Ub(14,"li"),a.Ub(15,"a",7),a.bc("click",(function(){return t.changeTheme("green")})),a.Bc(16,"2"),a.Tb(),a.Tb(),a.Ub(17,"li"),a.Ub(18,"a",8),a.bc("click",(function(){return t.changeTheme("red")})),a.Bc(19,"3"),a.Tb(),a.Tb(),a.Ub(20,"li"),a.Ub(21,"a",9),a.bc("click",(function(){return t.changeTheme("blue")})),a.Bc(22,"4"),a.Tb(),a.Tb(),a.Ub(23,"li"),a.Ub(24,"a",10),a.bc("click",(function(){return t.changeTheme("purple")})),a.Bc(25,"5"),a.Tb(),a.Tb(),a.Ub(26,"li"),a.Ub(27,"a",11),a.bc("click",(function(){return t.changeTheme("megna")})),a.Bc(28,"6"),a.Tb(),a.Tb(),a.Ub(29,"li",12),a.Ub(30,"b"),a.Bc(31,"Con el sidebar oscuro"),a.Tb(),a.Tb(),a.Ub(32,"li"),a.Ub(33,"a",13),a.bc("click",(function(){return t.changeTheme("default-dark")})),a.Bc(34,"7"),a.Tb(),a.Tb(),a.Ub(35,"li"),a.Ub(36,"a",14),a.bc("click",(function(){return t.changeTheme("green-dark")})),a.Bc(37,"8"),a.Tb(),a.Tb(),a.Ub(38,"li"),a.Ub(39,"a",15),a.bc("click",(function(){return t.changeTheme("red-dark")})),a.Bc(40,"9"),a.Tb(),a.Tb(),a.Ub(41,"li"),a.Ub(42,"a",16),a.bc("click",(function(){return t.changeTheme("blue-dark")})),a.Bc(43,"10"),a.Tb(),a.Tb(),a.Ub(44,"li"),a.Ub(45,"a",17),a.bc("click",(function(){return t.changeTheme("purple-dark")})),a.Bc(46,"11"),a.Tb(),a.Tb(),a.Ub(47,"li"),a.Ub(48,"a",18),a.bc("click",(function(){return t.changeTheme("megna-dark")})),a.Bc(49,"12"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb())},encapsulation:2}),e})();var b=i("3Pt+"),s=i("PSD3"),d=i.n(s),l=i("on2l"),u=i("FO31"),h=i("lJxs"),g=i("AytR"),f=i("tk/3");const p=g.a.base_url;let m=(()=>{class e{constructor(e,t,i){this.http=e,this.router=t,this.ngZone=i}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}actualizarHorario(e,t){return e=Object.assign({},e),this.http.put(`${p}/horarios/${t}`,e,this.headers)}cargarHorario(e){return this.http.get(`${p}/horarios/horario/${e}`,this.headers).pipe(Object(h.a)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(f.a),a.Yb(c.c),a.Yb(a.A))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var T=i("ofXK"),U=i("jhN1");const B=g.a.base_url;let v=(()=>{class e{transform(e,t){var i=t;return console.log(e),e&&e.includes("https")?e:`${B}/upload/${i}/no-image`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Nb({name:"imagen",type:e,pure:!0}),e})(),M=(()=>{class e{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(U.b))},e.\u0275pipe=a.Nb({name:"safe",type:e,pure:!0}),e})();function I(e,t){1&e&&(a.Ub(0,"div",2),a.Ub(1,"div",3),a.Ub(2,"div",4),a.Ub(3,"h4",5),a.Bc(4,"Cargando"),a.Tb(),a.Pb(5,"i",6),a.Ub(6,"p",7),a.Bc(7,"Por favor espere"),a.Tb(),a.Tb(),a.Tb(),a.Tb())}function C(e,t){if(1&e&&(a.Pb(0,"img",31),a.fc(1,"imagen")),2&e){const e=a.ec(2);a.lc("src",a.hc(1,1,e.usuario.img,"usuarios"),a.uc)}}function k(e,t){if(1&e&&a.Pb(0,"img",31),2&e){const e=a.ec(2);a.lc("src",e.imgTemp,a.uc)}}function P(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",9),a.Ub(1,"div",10),a.Ub(2,"div",11),a.Ub(3,"h4",12),a.Bc(4,"Horarios de atencion"),a.Tb(),a.Ub(5,"h6",13),a.Bc(6,"Ajustes"),a.Tb(),a.Ub(7,"form",14),a.bc("submit",(function(){return a.rc(e),a.ec(2).actualizarHorario()})),a.Ub(8,"div",8),a.Ub(9,"div",32),a.Ub(10,"label",33),a.Bc(11,"Dias de atencion"),a.Tb(),a.Ub(12,"div",17),a.Ub(13,"div",18),a.Pb(14,"i",34),a.Tb(),a.Pb(15,"input",35),a.Tb(),a.Tb(),a.Ub(16,"div",32),a.Ub(17,"label",36),a.Bc(18,"Tiempo por Cita medica"),a.Tb(),a.Ub(19,"div",17),a.Ub(20,"div",18),a.Pb(21,"i",34),a.Tb(),a.Ub(22,"select",37),a.Ub(23,"option",38),a.Bc(24,"15 min"),a.Tb(),a.Ub(25,"option",39),a.Bc(26,"30 min"),a.Tb(),a.Ub(27,"option",40),a.Bc(28,"45 min"),a.Tb(),a.Ub(29,"option",41),a.Bc(30,"1 hora"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(31,"div",15),a.Ub(32,"label",42),a.Bc(33,"Inicio de atencio"),a.Tb(),a.Ub(34,"div",17),a.Ub(35,"div",18),a.Pb(36,"i",43),a.Tb(),a.Pb(37,"input",44),a.Tb(),a.Tb(),a.Ub(38,"div",15),a.Ub(39,"label",45),a.Bc(40,"Cierre de atencio"),a.Tb(),a.Ub(41,"div",17),a.Ub(42,"div",18),a.Pb(43,"i",43),a.Tb(),a.Pb(44,"input",46),a.Tb(),a.Tb(),a.Ub(45,"button",24),a.Pb(46,"i",25),a.Bc(47," Guardar cambios "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec(2);a.Bb(7),a.lc("formGroup",e.horarioForm),a.Bb(38),a.lc("disabled",e.horarioForm.invalid)}}function y(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",8),a.Ub(1,"div",9),a.Ub(2,"div",10),a.Ub(3,"div",11),a.Ub(4,"h4",12),a.Bc(5,"Mi perfil de usuario"),a.Tb(),a.Ub(6,"h6",13),a.Bc(7,"Ajustes"),a.Tb(),a.Ub(8,"form",14),a.bc("submit",(function(){return a.rc(e),a.ec().actualizarPerfil()})),a.Ub(9,"div",15),a.Ub(10,"label",16),a.Bc(11,"User Name"),a.Tb(),a.Ub(12,"div",17),a.Ub(13,"div",18),a.Pb(14,"i",19),a.Tb(),a.Pb(15,"input",20),a.Tb(),a.Tb(),a.Ub(16,"div",15),a.Ub(17,"label",21),a.Bc(18,"Email address"),a.Tb(),a.Ub(19,"div",17),a.Ub(20,"div",18),a.Pb(21,"i",22),a.Tb(),a.Pb(22,"input",23),a.Tb(),a.Tb(),a.Ub(23,"button",24),a.Pb(24,"i",25),a.Bc(25," Guardar cambios "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(26,"div",9),a.Ub(27,"div",10),a.Ub(28,"div",11),a.Ub(29,"h4",12),a.Bc(30,"Avatar"),a.Tb(),a.Ub(31,"h6",13),a.Bc(32,"Imagen del usuario"),a.Tb(),a.Ub(33,"div",26),a.Ac(34,C,2,4,"img",27),a.Ac(35,k,1,1,"img",27),a.Tb(),a.Ub(36,"input",28),a.bc("change",(function(t){return a.rc(e),a.ec().cambiarImagen(t.target.files[0])})),a.Tb(),a.Pb(37,"br"),a.Pb(38,"br"),a.Ub(39,"button",29),a.bc("click",(function(){return a.rc(e),a.ec().subirImagen()})),a.Pb(40,"i",25),a.Bc(41," Cambiar imagen "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ac(42,P,48,2,"div",30),a.Tb()}if(2&e){const e=a.ec();a.Bb(8),a.lc("formGroup",e.perfilForm),a.Bb(14),a.lc("readOnly",e.usuario.google),a.Bb(1),a.lc("disabled",e.perfilForm.invalid),a.Bb(11),a.lc("ngIf",!e.imgTemp),a.Bb(1),a.lc("ngIf",e.imgTemp),a.Bb(4),a.lc("disabled",!e.imagenSubir),a.Bb(3),a.lc("ngIf","MEDICO_ROLE"==e.usuario.role)}}let w=(()=>{class e{constructor(e,t,i,c){this.fb=e,this.usuarioService=t,this.horarioService=i,this.fileUploadService=c,this.imgTemp=null,this.cargando=!1,this.usuario=t.usuario}ngOnInit(){this.cargarUsuario(this.usuario.uid),this.perfilForm=this.fb.group({nombre:[this.usuario.nombre,b.u.required],email:[this.usuario.email,[b.u.required,b.u.email]]})}actualizarPerfil(){this.usuarioService.actualizarPerfil(this.perfilForm.value).subscribe(()=>{const{nombre:e,email:t}=this.perfilForm.value;this.usuario.nombre=e,this.usuario.email=t,d.a.fire("Guardado","Cambios fueron guardados","success")},e=>{d.a.fire("Error",e.error.msg,"error")})}actualizarHorario(){this.horarioService.actualizarHorario(this.horarioForm.value,this.medico._id).subscribe(()=>{const{dias:e,horaInicio:t,horaCierre:i,tiempo:c}=this.horarioForm.value;this.horario.horaInicio=t,this.horario.horaCierre=i,this.horario.dias=e,this.horario.tiempo=c,d.a.fire("Guardado","Cambios fueron guardados","success")},e=>{d.a.fire("Error",e.error.msg,"error")})}cambiarImagen(e){if(this.imagenSubir=e,!e)return this.imgTemp=null;const t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{this.imgTemp=t.result}}subirImagen(){this.fileUploadService.actualizarFoto(this.imagenSubir,this.usuario.uid).then(e=>{console.log("img"),console.log(e),this.usuario.img=e,d.a.fire("Guardado","Imagen de usuario actualizada","success")}).catch(e=>{console.log(e),d.a.fire("Error","No se pudo subir la imagen","error")})}cargarHorario(e){this.cargando=!0,this.horarioService.cargarHorario(e).subscribe(e=>{this.horario=e,this.horarioForm=this.fb.group({dias:[this.horario.dias,b.u.required],horaInicio:[this.horario.horaInicio,b.u.required],horaCierre:[this.horario.horaCierre,b.u.required],tiempo:[this.horario.tiempo,b.u.required]}),this.cargando=!1})}cargarUsuario(e){this.cargando=!0,this.usuarioService.cargarUsuario(e).subscribe(e=>{this.usuario=e.usuario,this.persona=e.persona,null!=e.data&&(this.medico=e.data),this.cargarHorario(this.medico._id)})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(b.d),a.Ob(l.a),a.Ob(m),a.Ob(u.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-perfil"]],decls:2,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","submit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Nombre del usuario","formControlName","nombre",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],["class","col-md-6",4,"ngIf"],[1,"img-avatar",3,"src"],[1,"form-group","p-10"],["for","InputDias"],[1,"ti-calendar"],["type","text","disabled","true","id","InputDias","placeholder","Nombre del usuario","value","L,M,Mi,J,V,S,D","formControlName","dias",1,"form-control"],["for","InputTiempo"],["id","InputTiempo","formControlName","tiempo"],["value","15"],["value","30"],["value","45"],["value","60","selected",""],["for","InputHoraInicio"],[1,"ti-time"],["type","time","id","InputHoraInicio","placeholder","Horarioi Inicio","formControlName","horaInicio",1,"form-control"],["for","horacierre"],["type","time","id","horacierre","placeholder","Horario Cierre","formControlName","horaCierre",1,"form-control"]],template:function(e,t){1&e&&(a.Ac(0,I,8,0,"div",0),a.Ac(1,y,43,7,"div",1)),2&e&&(a.lc("ngIf",t.cargando),a.Bb(1),a.lc("ngIf",!t.cargando))},directives:[T.l,b.w,b.n,b.h,b.c,b.m,b.g,b.t,b.q,b.v],pipes:[v],encapsulation:2}),e})();var A=i("3E0/"),x=i("11oC");const S=g.a.base_url;let $=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}transformarUsuarios(e){return e.map(e=>new x.a(e.nombre,e.email,"",e.img,e.google,e.role,e.uid,e.createdAt,e.estado))}transformarFotografos(e){return e}transformarEventos(e){return e}busquedaGlobal(e){return this.http.get(`${S}/todo/${e}`,this.headers)}buscar(e,t){return this.http.get(`${S}/todo/coleccion/${e}/${t}`,this.headers).pipe(Object(h.a)(t=>{switch(e){case"usuarios":return this.transformarUsuarios(t.resultados);case"fotografos":return this.transformarFotografos(t.resultados);case"eventos":return this.transformarEventos(t.resultados);default:return[]}}))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(f.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var O=i("XbMK");function F(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",7),a.Ub(3,"h4",8),a.Bc(4,"Cargando"),a.Tb(),a.Pb(5,"i",9),a.Ub(6,"p",10),a.Bc(7,"Por favor espere"),a.Tb(),a.Tb(),a.Tb(),a.Tb())}function V(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",48),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.role=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarRole(t)})),a.Ub(1,"option",20),a.Bc(2,"Admin"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Paciente"),a.Tb(),a.Ub(5,"option",22),a.Bc(6,"Medico"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.role)}}function E(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",49),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.role=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarRole(t)})),a.Ub(1,"option",20),a.Bc(2,"Admin"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Paciente"),a.Tb(),a.Ub(5,"option",22),a.Bc(6,"Medico"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.role)}}function _(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",50),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.role=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarRole(t)})),a.Ub(1,"option",20),a.Bc(2,"Admin"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Paciente"),a.Tb(),a.Ub(5,"option",22),a.Bc(6,"Medico"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.role)}}function L(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",51),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",23),a.Bc(2,"Habilitado"),a.Tb(),a.Ub(3,"option",24),a.Bc(4,"Inhabilitado"),a.Tb(),a.Ub(5,"option",25),a.Bc(6,"Pendiente"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}function N(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",52),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",23),a.Bc(2,"Habilitado"),a.Tb(),a.Ub(3,"option",24),a.Bc(4,"Inhabilitado"),a.Tb(),a.Ub(5,"option",25),a.Bc(6,"Pendiente"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}function R(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",49),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",23),a.Bc(2,"Habilitado"),a.Tb(),a.Ub(3,"option",24),a.Bc(4,"Inhabilitado"),a.Tb(),a.Ub(5,"option",25),a.Bc(6,"Pendiente"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}function z(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",48),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",23),a.Bc(2,"Habilitado"),a.Tb(),a.Ub(3,"option",24),a.Bc(4,"Inhabilitado"),a.Tb(),a.Ub(5,"option",25),a.Bc(6,"Pendiente"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}function j(e,t){if(1&e&&(a.Ub(0,"span",53),a.Bc(1),a.fc(2,"date"),a.Tb()),2&e){const e=a.ec().$implicit;a.Bb(1),a.Dc(" ",a.hc(2,1,e.createdAt,"dd/MM/yyyy"),"")}}function q(e,t){1&e&&(a.Ub(0,"span",54),a.Bc(1," sin fecha"),a.Tb())}const D=function(e){return["/dashboard","usuario",e]};function H(e,t){if(1&e){const e=a.Vb();a.Ub(0,"tr"),a.Ub(1,"td"),a.Bc(2),a.Tb(),a.Ub(3,"td",34),a.Ub(4,"img",35),a.bc("click",(function(){a.rc(e);const i=t.$implicit;return a.ec(2).abrirModal(i)})),a.Tb(),a.Tb(),a.Ub(5,"td"),a.Bc(6),a.Tb(),a.Ub(7,"td"),a.Bc(8),a.Tb(),a.Ub(9,"td"),a.Ac(10,V,7,1,"select",36),a.Ac(11,E,7,1,"select",37),a.Ac(12,_,7,1,"select",38),a.Tb(),a.Ub(13,"td"),a.Ac(14,L,7,1,"select",39),a.Ac(15,N,7,1,"select",40),a.Ac(16,R,7,1,"select",37),a.Ac(17,z,7,1,"select",36),a.Tb(),a.Ub(18,"td"),a.Ac(19,j,3,4,"span",41),a.Ac(20,q,2,0,"span",42),a.Tb(),a.Ub(21,"td",43),a.Ub(22,"a",44),a.bc("click",(function(){a.rc(e);const i=t.$implicit;return a.ec(2).eliminarUsuario(i)})),a.Pb(23,"i",45),a.Tb(),a.Ub(24,"a",46),a.Pb(25,"i",47),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=t.$implicit,i=t.index,c=a.ec(2);a.Bb(2),a.Cc(c.desde+i+1),a.Bb(2),a.lc("src",e.imagenUrl,a.uc),a.Bb(2),a.Cc(e.nombre),a.Bb(2),a.Cc(e.email),a.Bb(2),a.lc("ngIf","ADMIN_ROLE"==e.role),a.Bb(1),a.lc("ngIf","PACIENTE_ROLE"==e.role),a.Bb(1),a.lc("ngIf","MEDICO_ROLE"==e.role),a.Bb(2),a.lc("ngIf","inhabilitado"==e.estado),a.Bb(1),a.lc("ngIf","habilitado"==e.estado),a.Bb(1),a.lc("ngIf","pendiente"==e.estado),a.Bb(1),a.lc("ngIf",!e.estado),a.Bb(2),a.lc("ngIf",e.createdAt),a.Bb(1),a.lc("ngIf",!e.createdAt),a.Bb(4),a.lc("routerLink",a.nc(14,D,e.uid))}}function J(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",11),a.Ub(1,"div",12),a.Ub(2,"button",55),a.bc("click",(function(){a.rc(e);const t=a.ec(2);return t.cambiarPagina(0-t.entrada)})),a.Bc(3,"Anteriores"),a.Tb(),a.Bc(4," \xa0 "),a.Ub(5,"button",55),a.bc("click",(function(){a.rc(e);const t=a.ec(2);return t.cambiarPagina(t.entrada)})),a.Bc(6,"Siguientes"),a.Tb(),a.Tb(),a.Ub(7,"div",56),a.Ub(8,"div",57),a.Bc(9," Mostrar "),a.Ub(10,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec(2).entrada=t}))("change",(function(){return a.rc(e),a.ec(2).cargarUsuarios()})),a.Ub(11,"option",18),a.Bc(12,"5"),a.Tb(),a.Ub(13,"option",18),a.Bc(14,"10"),a.Tb(),a.Ub(15,"option",18),a.Bc(16,"25"),a.Tb(),a.Ub(17,"option",18),a.Bc(18,"50"),a.Tb(),a.Tb(),a.Bc(19," entradas "),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec(2);a.Bb(10),a.lc("ngModel",e.entrada),a.Bb(1),a.lc("ngValue",5),a.Bb(2),a.lc("ngValue",10),a.Bb(2),a.lc("ngValue",25),a.Bb(2),a.lc("ngValue",50)}}function Y(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",11),a.Ub(5,"div",12),a.Ub(6,"h4",13),a.Bc(7),a.Tb(),a.Ub(8,"h6",14),a.Bc(9,"Usuarios registrados"),a.Tb(),a.Tb(),a.Tb(),a.Ub(10,"div",15),a.Ub(11,"div",16),a.Bc(12," Entradas "),a.Ub(13,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().entrada=t}))("change",(function(){return a.rc(e),a.ec().cargarUsuarios()})),a.Ub(14,"option",18),a.Bc(15,"5"),a.Tb(),a.Ub(16,"option",18),a.Bc(17,"10"),a.Tb(),a.Ub(18,"option",18),a.Bc(19,"25"),a.Tb(),a.Ub(20,"option",18),a.Bc(21,"50"),a.Tb(),a.Tb(),a.Tb(),a.Ub(22,"div",16),a.Bc(23," Rol "),a.Ub(24,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().role=t}))("change",(function(){return a.rc(e),a.ec().cargarUsuarios()})),a.Ub(25,"option",19),a.Bc(26,"Todos"),a.Tb(),a.Ub(27,"option",20),a.Bc(28,"Admin"),a.Tb(),a.Ub(29,"option",21),a.Bc(30,"Paciente"),a.Tb(),a.Ub(31,"option",22),a.Bc(32,"Medico"),a.Tb(),a.Tb(),a.Tb(),a.Ub(33,"div",16),a.Bc(34," Estado "),a.Ub(35,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().estado=t}))("change",(function(){return a.rc(e),a.ec().cargarUsuarios()})),a.Ub(36,"option",19),a.Bc(37,"Todos"),a.Tb(),a.Ub(38,"option",23),a.Bc(39,"Habilitado"),a.Tb(),a.Ub(40,"option",24),a.Bc(41,"Inhabilitado"),a.Tb(),a.Ub(42,"option",25),a.Bc(43,"Pendiente"),a.Tb(),a.Tb(),a.Tb(),a.Ub(44,"div",26),a.Bc(45," Orden "),a.Ub(46,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().sort=t}))("change",(function(){return a.rc(e),a.ec().cargarUsuarios()})),a.Ub(47,"option",18),a.Bc(48,"Nuevos"),a.Tb(),a.Ub(49,"option",18),a.Bc(50,"Antiguos"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(51,"div",27),a.Ub(52,"table",28),a.Ub(53,"thead"),a.Ub(54,"tr"),a.Ub(55,"th"),a.Bc(56,"#"),a.Tb(),a.Ub(57,"th",29),a.Bc(58,"Avatar"),a.Tb(),a.Ub(59,"th"),a.Bc(60,"Nombre"),a.Tb(),a.Ub(61,"th"),a.Bc(62,"Correo"),a.Tb(),a.Ub(63,"th",30),a.Bc(64,"ROL"),a.Tb(),a.Ub(65,"th",30),a.Bc(66,"Estado"),a.Tb(),a.Ub(67,"th",29),a.Bc(68,"Fecha"),a.Tb(),a.Ub(69,"th",31),a.Bc(70,"Acciones"),a.Tb(),a.Tb(),a.Tb(),a.Ub(71,"tbody"),a.Ac(72,H,26,16,"tr",32),a.Tb(),a.Tb(),a.Tb(),a.Ac(73,J,20,5,"div",33),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec(),t=a.qc(5);a.Bb(7),a.Fc("Mostrando ",e.desde+1," hasta ",e.desde+e.usuarios.length," de ",e.totalUsuarios," Usuarios"),a.Bb(6),a.lc("ngModel",e.entrada),a.Bb(1),a.lc("ngValue",5),a.Bb(2),a.lc("ngValue",10),a.Bb(2),a.lc("ngValue",25),a.Bb(2),a.lc("ngValue",50),a.Bb(4),a.lc("ngModel",e.role),a.Bb(11),a.lc("ngModel",e.estado),a.Bb(11),a.lc("ngModel",e.sort),a.Bb(1),a.lc("ngValue",-1),a.Bb(2),a.lc("ngValue",1),a.Bb(23),a.lc("ngForOf",e.usuarios),a.Bb(1),a.lc("ngIf",0===t.value.length)}}let G=(()=>{class e{constructor(e,t,i){this.usuarioService=e,this.busquedasService=t,this.modalImagenService=i,this.totalUsuarios=0,this.usuarios=[],this.usuariosTemp=[],this.desde=0,this.entrada=10,this.sort=-1,this.role="todos",this.estado="todos",this.cargando=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarUsuarios(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(Object(A.a)(100)).subscribe(e=>this.cargarUsuarios())}cargarUsuarios(){this.cargando=!0,this.usuarioService.cargarUsuarios(this.desde,this.entrada,this.role,this.estado,this.sort).subscribe(({total:e,usuarios:t})=>{console.log(t),this.totalUsuarios=e,this.usuarios=t,this.usuariosTemp=t,this.cargando=!1})}cambiarPagina(e){this.desde+=e,this.desde<0?this.desde=0:this.desde>=this.totalUsuarios&&(this.desde-=e),this.cargarUsuarios()}buscar(e){if(0===e.length)return this.usuarios=this.usuariosTemp;this.busquedasService.buscar("usuarios",e).subscribe(e=>{this.usuarios=e})}eliminarUsuario(e){if(e.uid===this.usuarioService.uid)return d.a.fire("Error","No puede borrarse a si mismo","error");d.a.fire({title:"\xbfBorrar usuario?",text:"Esta a punto de borrar a "+e.nombre,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(t=>{t.value&&this.usuarioService.eliminarUsuario(e).subscribe(t=>{this.cargarUsuarios(),d.a.fire("Usuario borrado",e.nombre+" fue eliminado correctamente","success")})})}cambiarRole(e){this.usuarioService.guardarUsuario(e).subscribe(e=>{console.log(e)})}cambiarEstado(e){console.log("usuario"),console.log(e),this.usuarioService.guardarUsuario(e).subscribe(e=>{console.log(e)})}abrirModal(e){this.modalImagenService.abrirModal("usuarios",e.uid,e.img)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(l.a),a.Ob($),a.Ob(O.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-usuarios"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"d-flex","justify-content-end","py-3"],[1,"mx-3"],[1,"form-control","w100",3,"ngModel","ngModelChange","change"],[3,"ngValue"],["value","todos"],["value","ADMIN_ROLE"],["value","PACIENTE_ROLE"],["value","MEDICO_ROLE"],["value","habilitado"],["value","inhabilitado"],["value","pendiente"],[1,""],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"text-center"],["alt","Avatar de usuario",1,"avatar","cursor",3,"src","click"],["class","form-control btn btn-danger text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","form-control btn btn-warning text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","form-control btn btn-info text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","form-control btn btn-secondary",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","form-control btn btn-success text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","label label-info",4,"ngIf"],["class","label label-danger",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Borrar",1,"btn",3,"click"],[1,"fa","fa-close","text-danger"],["data-toggle","tooltip","data-original-title","ver",1,"btn","btn-light",3,"routerLink"],[1,"fa","fa-eye"],[1,"form-control","btn","btn-danger","text-white",3,"ngModel","ngModelChange","change"],[1,"form-control","btn","btn-warning","text-white",3,"ngModel","ngModelChange","change"],[1,"form-control","btn","btn-info","text-white",3,"ngModel","ngModelChange","change"],[1,"form-control","btn","btn-secondary",3,"ngModel","ngModelChange","change"],[1,"form-control","btn","btn-success","text-white",3,"ngModel","ngModelChange","change"],[1,"label","label-info"],[1,"label","label-danger"],[1,"btn","btn-secondary",3,"click"],[1,"col"],[1,"text-right"]],template:function(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"input",4,5),a.bc("keyup",(function(){a.rc(e);const i=a.qc(5);return t.buscar(i.value)})),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ac(6,F,8,0,"div",6),a.Ac(7,Y,74,15,"div",6)}2&e&&(a.Bb(6),a.lc("ngIf",t.cargando),a.Bb(1),a.lc("ngIf",!t.cargando))},directives:[T.l,b.t,b.m,b.p,b.q,b.v,T.k,c.f],pipes:[T.e],encapsulation:2}),e})(),K=(()=>{class e{constructor(e,t){this.usuarioService=e,this.router=t}canActivate(e,t){return"ADMIN_ROLE"===this.usuarioService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(l.a),a.Yb(c.c))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Q(e,t){1&e&&(a.Ub(0,"div",1),a.Ub(1,"div",2),a.Ub(2,"div",3),a.Ub(3,"h4",4),a.Bc(4,"Cargando"),a.Tb(),a.Pb(5,"i",5),a.Ub(6,"p",6),a.Bc(7,"Por favor espere"),a.Tb(),a.Tb(),a.Tb(),a.Tb())}function X(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"div",7),a.Ub(2,"div",8),a.Ub(3,"div",9),a.Ub(4,"div",10),a.Pb(5,"img",11),a.fc(6,"imagen"),a.Ub(7,"h4",12),a.Bc(8),a.Tb(),a.Ub(9,"h6",13),a.Bc(10),a.Tb(),a.Ub(11,"div",14),a.Ub(12,"div",15),a.Ub(13,"a",16),a.Pb(14,"i",17),a.Ub(15,"font",18),a.Bc(16),a.Tb(),a.Tb(),a.Tb(),a.Ub(17,"div",15),a.Ub(18,"a",16),a.Pb(19,"i",19),a.Ub(20,"font",18),a.Bc(21,"vericado"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(22,"div"),a.Pb(23,"hr"),a.Tb(),a.Ub(24,"div",9),a.Ub(25,"small",20),a.Bc(26,"Email address "),a.Tb(),a.Ub(27,"h6"),a.Bc(28),a.Tb(),a.Ub(29,"small",21),a.Bc(30,"Celular"),a.Tb(),a.Ub(31,"h6"),a.Bc(32),a.Tb(),a.Ub(33,"small",21),a.Bc(34,"Direccion"),a.Tb(),a.Ub(35,"h6"),a.Bc(36),a.Tb(),a.Ub(37,"div",22),a.Ub(38,"div",23),a.Ub(39,"small",21),a.Bc(40,"Genero"),a.Tb(),a.Ub(41,"h6"),a.Bc(42),a.Tb(),a.Tb(),a.Ub(43,"div",23),a.Ub(44,"small",21),a.Bc(45,"Fecha Nacimiento"),a.Tb(),a.Ub(46,"h6"),a.Bc(47),a.fc(48,"date"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(49,"div",24),a.Ub(50,"div",8),a.Ub(51,"ul",25),a.Ub(52,"li",26),a.Ub(53,"a",27),a.Bc(54,"Perfil"),a.Tb(),a.Tb(),a.Ub(55,"li",26),a.Ub(56,"a",28),a.Bc(57,"CV"),a.Tb(),a.Tb(),a.Tb(),a.Ub(58,"div",29),a.Ub(59,"div",30),a.Ub(60,"div",9),a.Ub(61,"div",22),a.Ub(62,"div",31),a.Ub(63,"strong"),a.Bc(64,"Nombre Completo"),a.Tb(),a.Pb(65,"br"),a.Ub(66,"p",20),a.Bc(67),a.Tb(),a.Tb(),a.Ub(68,"div",31),a.Ub(69,"strong"),a.Bc(70,"Telefono"),a.Tb(),a.Pb(71,"br"),a.Ub(72,"p",20),a.Bc(73),a.Tb(),a.Tb(),a.Ub(74,"div",31),a.Ub(75,"strong"),a.Bc(76,"Email"),a.Tb(),a.Pb(77,"br"),a.Ub(78,"p",20),a.Bc(79),a.Tb(),a.Tb(),a.Ub(80,"div",32),a.Ub(81,"strong"),a.Bc(82,"Direccion"),a.Tb(),a.Pb(83,"br"),a.Ub(84,"p",20),a.Bc(85),a.Tb(),a.Tb(),a.Tb(),a.Pb(86,"hr"),a.Ub(87,"p",33),a.Bc(88),a.Tb(),a.Pb(89,"hr"),a.Ub(90,"div",9),a.Ub(91,"div",22),a.Ub(92,"div",31),a.Ub(93,"strong"),a.Bc(94,"Licencia medica"),a.Tb(),a.Pb(95,"br"),a.Ub(96,"p",20),a.Bc(97),a.Tb(),a.Tb(),a.Ub(98,"div",31),a.Ub(99,"strong"),a.Bc(100,"Titulo"),a.Tb(),a.Pb(101,"br"),a.Ub(102,"p",20),a.Bc(103),a.Tb(),a.Tb(),a.Ub(104,"div",32),a.Ub(105,"strong"),a.Bc(106,"Credencial medico"),a.Tb(),a.Pb(107,"br"),a.Ub(108,"p",20),a.Bc(109),a.Tb(),a.Tb(),a.Ub(110,"div",32),a.Ub(111,"strong"),a.Bc(112,"CI"),a.Tb(),a.Pb(113,"br"),a.Ub(114,"p",20),a.Bc(115),a.Tb(),a.Tb(),a.Pb(116,"hr"),a.Ub(117,"div",31),a.Ub(118,"strong"),a.Bc(119,"Direccion"),a.Tb(),a.Pb(120,"br"),a.Ub(121,"p",20),a.Bc(122),a.Tb(),a.Ub(123,"small",21),a.Bc(124),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(125,"div",22),a.Tb(),a.Ub(126,"div",34),a.Ub(127,"div",9),a.Pb(128,"embed",35),a.fc(129,"safe"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e){const e=a.ec();a.Bb(5),a.lc("src",a.hc(6,23,e.usuario.img,"usuarios"),a.uc),a.Bb(3),a.Ec("",e.persona.nombre,"",e.persona.apellido,""),a.Bb(2),a.Cc(e.medico.especialidad),a.Bb(6),a.Cc(e.medico.calificacion),a.Bb(12),a.Cc(e.usuario.email),a.Bb(4),a.Cc(e.persona.celular),a.Bb(4),a.Cc(e.persona.direccion),a.Bb(6),a.Cc(e.persona.genero),a.Bb(5),a.Cc(a.hc(48,26,e.persona.fecha_nacimiento,"dd/MM/yyyy")),a.Bb(20),a.Ec("",e.persona.nombre,"",e.persona.apellido,""),a.Bb(6),a.Cc(e.persona.celular),a.Bb(6),a.Cc(e.usuario.email),a.Bb(6),a.Cc(e.persona.direccion),a.Bb(3),a.Cc(e.medico.descripcion),a.Bb(9),a.Cc(e.medico.licMedica),a.Bb(6),a.Cc(e.medico.titulo),a.Bb(6),a.Cc(e.medico.credencialMedico),a.Bb(6),a.Cc(e.persona.carnetIdentidad),a.Bb(7),a.Cc(e.medico.nosocomio),a.Bb(2),a.Cc(e.medico.direccionNosocomio),a.Bb(4),a.lc("src",a.gc(129,29,e.urlfile(e.medico.cv)),a.tc)}}let Z=(()=>{class e{constructor(e,t,i,c){this.fb=e,this.router=t,this.activatedRoute=i,this.usuarioService=c,this.cargando=!0}ngOnInit(){this.activatedRoute.params.subscribe(({id:e})=>{this.cargarUsuario(e)})}cargarUsuario(e){this.cargando=!0,this.usuarioService.cargarUsuario(e).subscribe(e=>{this.usuario=e.usuario,this.persona=e.persona,this.medico=e.data,this.cargando=!1})}urlfile(e){return"https://docs.google.com/gview?url="+e+"&embedded=true"}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(b.d),a.Ob(c.c),a.Ob(c.a),a.Ob(l.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-usuario"]],decls:2,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"col-lg-4","col-xlg-3","col-md-5"],[1,"card"],[1,"card-body"],[1,"m-t-30","text-align-center"],["width","150",1,"img-circle",3,"src"],[1,"card-title","m-t-10"],[1,"card-subtitle"],[1,"row","text-center","justify-content-md-center"],[1,"col-4"],["href","javascript:void(0)",1,"link"],[1,"fa","fa-star"],[1,"font-medium"],[1,"fa","fa-check-square",2,"color","green"],[1,"text-muted"],[1,"text-muted","p-t-30","db"],[1,"row"],[1,"col"],[1,"col-lg-8","col-xlg-9","col-md-7"],["role","tablist",1,"nav","nav-tabs","profile-tab"],[1,"nav-item"],["data-toggle","tab","href","#profile","role","tab",1,"nav-link","active"],["data-toggle","tab","href","#home","role","tab",1,"nav-link"],[1,"tab-content"],["id","profile","role","tabpanel",1,"tab-pane","active"],[1,"col-md-3","col-xs-6","b-r"],[1,"col-md-3","col-xs-6"],[1,"m-t-30"],["id","home","role","tabpanel",1,"tab-pane"],["type","application/pdf","width","100%","height","700px",3,"src"]],template:function(e,t){1&e&&(a.Ac(0,Q,8,0,"div",0),a.Ac(1,X,130,31,"div",0)),2&e&&(a.lc("ngIf",t.cargando),a.Bb(1),a.lc("ngIf",!t.cargando))},directives:[T.l],pipes:[v,T.e,M],styles:[".text-align-center[_ngcontent-%COMP%]{text-align:center}pdf-viewer[_ngcontent-%COMP%]{display:block;height:100vh}"]}),e})();var W=i("mrSG");const ee=g.a.base_url;let te=(()=>{class e{constructor(e,t,i){this.http=e,this.router=t,this.ngZone=i}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}cargarConsulta(e){return this.http.get(`${ee}/consulta/consulta/${e}`,this.headers).pipe(Object(h.a)(e=>e))}habilitarSala(e){return this.http.put(`${ee}/consulta/updatesala/${e}`,this.headers)}finalizarSala(e){return this.http.put(`${ee}/consulta/finalizar/${e}`,this.headers)}guardarFichaMedica(e){return this.http.put(`${ee}/fichaMedica/${e._id}`,e,this.headers)}rechazarFichaMedica(e){return this.http.put(`${ee}/fichamedica/rechazar/${e._id}`,e,this.headers)}aceptarFichaMedica(e){return this.http.put(`${ee}/fichaMedica/aceptar/${e._id}`,e,this.headers)}generarQuery(e,t){var i="";for(let c=0;c<t.length;c++)"todos"!=t[c]&&(i+=`&${e[c]}=${t[c]}`);return i}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(f.a),a.Yb(c.c),a.Yb(a.A))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ie(e,t){1&e&&(a.Ub(0,"div",3),a.Ub(1,"div",4),a.Ub(2,"div",5),a.Ub(3,"h4",6),a.Bc(4,"Cargando"),a.Tb(),a.Pb(5,"i",7),a.Ub(6,"p",8),a.Bc(7,"Por favor espere"),a.Tb(),a.Tb(),a.Tb(),a.Tb())}function ce(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",9),a.Ub(2,"span"),a.Bc(3,"Custom Controls"),a.Tb(),a.Tb(),a.Ub(4,"div",9),a.Ub(5,"i",10),a.bc("click",(function(){return a.rc(e),a.ec().executeCommand("toggleAudio")})),a.Tb(),a.Ub(6,"i",11),a.bc("click",(function(){return a.rc(e),a.ec().executeCommand("hangup")})),a.Tb(),a.Ub(7,"i",12),a.bc("click",(function(){return a.rc(e),a.ec().executeCommand("toggleVideo")})),a.Tb(),a.Ub(8,"i",13),a.bc("click",(function(){return a.rc(e),a.ec().executeCommand("toggleShareScreen")})),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec();a.Bb(5),a.lc("ngClass",e.isAudioMuted?"fa-microphone-slash":"fa-microphone"),a.Bb(2),a.lc("ngClass",e.isVideoMuted?"fa-video-slash":"fa-video")}}let ae=(()=>{class e{constructor(e,t,i,c){this.router=e,this.usuarioService=t,this.consultaService=i,this.activatedRoute=c,this.domain="meet.jit.si",this.isAudioMuted=!0,this.isVideoMuted=!0,this.cargando=!0,this.handleClose=()=>{console.log("handleClose")},this.handleParticipantLeft=e=>Object(W.a)(this,void 0,void 0,(function*(){console.log("handleParticipantLeft",e),yield this.getParticipants()})),this.handleParticipantJoined=e=>Object(W.a)(this,void 0,void 0,(function*(){console.log("handleParticipantJoined",e),yield this.getParticipants()})),this.handleVideoConferenceJoined=e=>Object(W.a)(this,void 0,void 0,(function*(){console.log("handleVideoConferenceJoined",e),yield this.getParticipants()})),this.handleVideoConferenceLeft=()=>{console.log("handleVideoConferenceLeft")},this.handleMuteStatus=e=>{console.log("handleMuteStatus",e)},this.handleVideoStatus=e=>{console.log("handleVideoStatus",e)},this.myEvent=new a.n}ngOnInit(){this.activatedRoute.params.subscribe(({id:e})=>{this.cargarConsulta(e)})}cargarConsulta(e){this.cargando=!0,this.consultaService.cargarConsulta(e).subscribe(t=>{this.consulta=t,this.room=t.sala.room,this.user={name:this.usuarioService.usuario.nombre},console.log(t),console.log(this.consulta),this.consultaService.habilitarSala(e).subscribe(e=>{this.cargando=!1,this.myEvent.emit()})})}ngAfterViewInit(){this.myEvent.subscribe(()=>{this.options={roomName:this.room,width:500,height:500,configOverwrite:{prejoinPageEnabled:!1},interfaceConfigOverwrite:{},parentNode:document.querySelector("#jitsi-iframe"),userInfo:{displayName:this.user.name}},this.api=new JitsiMeetExternalAPI(this.domain,this.options),this.api.addEventListeners({readyToClose:this.handleClose,participantLeft:this.handleParticipantLeft,participantJoined:this.handleParticipantJoined,videoConferenceJoined:this.handleVideoConferenceJoined,videoConferenceLeft:this.handleVideoConferenceLeft,audioMuteStatusChanged:this.handleMuteStatus,videoMuteStatusChanged:this.handleVideoStatus})},e=>console.error(e))}getParticipants(){return new Promise((e,t)=>{setTimeout(()=>{e(this.api.getParticipantsInfo())},500)})}executeCommand(e){this.api.executeCommand(e),"hangup"!=e&&("toggleAudio"==e&&(this.isAudioMuted=!this.isAudioMuted),"toggleVideo"==e&&(this.isVideoMuted=!this.isVideoMuted))}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(c.c),a.Ob(l.a),a.Ob(te),a.Ob(c.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-jitsi"]],decls:3,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],["id","jitsi-iframe"],[4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"item-center"],["aria-hidden","true","title","Mute / Unmute",1,"fas","fa-2x","grey-color",3,"ngClass","click"],["aria-hidden","true","title","Leave",1,"fas","fa-phone-slash","fa-2x","red-color",3,"click"],["aria-hidden","true","title","Start / Stop camera",1,"fas","fa-2x","grey-color",3,"ngClass","click"],["aria-hidden","true","title","Share your screen",1,"fas","fa-film","fa-2x","grey-color",3,"click"]],template:function(e,t){1&e&&(a.Ac(0,ie,8,0,"div",0),a.Pb(1,"div",1),a.Ac(2,ce,9,2,"div",2)),2&e&&(a.lc("ngIf",t.cargando),a.Bb(2),a.lc("ngIf",!t.cargando))},directives:[T.l,T.j],styles:[".fas[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px;cursor:pointer}.item-center[_ngcontent-%COMP%]{text-align:center}.grey-color[_ngcontent-%COMP%]{color:grey}.red-color[_ngcontent-%COMP%]{color:red}"]}),e})();class ne{constructor(e,t,i,c,a,n,o,r,b,s){this.nroFicha=e,this.fecha=t,this.horaInicio=i,this.horaCierre=c,this.estado=a,this.medico=n,this.paciente=o,this.consulta=r,this._id=b,this.nota=s}}const oe=g.a.base_url;let re=(()=>{class e{constructor(e,t,i){this.http=e,this.router=t,this.ngZone=i}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}cargarFichaMedicas(e=0,t=10,i,c=1){const a=this.generarQuery(["estado"],[i]);return this.http.get(`${oe}/fichamedica/medico?desde=${e}&entrada=${t}${a}&sort=${c}`,this.headers).pipe(Object(h.a)(e=>{const t=e.fichaMedicas.map(e=>new ne(e.nroFicha,e.fecha,e.horaInicio,e.horaCierre,e.estado,e.medico,e.paciente,e.consulta,e._id));return{total:e.total,fichaMedicas:t}}))}guardarFichaMedica(e){return this.http.put(`${oe}/fichaMedica/${e._id}`,e,this.headers)}rechazarFichaMedica(e){return console.log("fichaMedica._id"),console.log(e._id),this.http.put(`${oe}/fichamedica/rechazar/${e._id}`,e,this.headers)}aceptarFichaMedica(e){return this.http.put(`${oe}/fichaMedica/aceptar/${e._id}`,e,this.headers)}generarQuery(e,t){var i="";for(let c=0;c<t.length;c++)"todos"!=t[c]&&(i+=`&${e[c]}=${t[c]}`);return i}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(f.a),a.Yb(c.c),a.Yb(a.A))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function be(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",7),a.Ub(3,"h4",8),a.Bc(4,"Cargando"),a.Tb(),a.Pb(5,"i",9),a.Ub(6,"p",10),a.Bc(7,"Por favor espere"),a.Tb(),a.Tb(),a.Tb(),a.Tb())}function se(e,t){if(1&e&&(a.Ub(0,"span",38),a.Bc(1),a.fc(2,"date"),a.Tb()),2&e){const e=a.ec().$implicit;a.Bb(1),a.Dc(" ",a.hc(2,1,e.fecha,"EEEE dd - MM - yy"),"")}}function de(e,t){1&e&&(a.Ub(0,"span",39),a.Bc(1," sin fecha"),a.Tb())}function le(e,t){if(1&e&&(a.Ub(0,"span",38),a.Bc(1),a.fc(2,"date"),a.Tb()),2&e){const e=a.ec().$implicit;a.Bb(1),a.Dc(" ",a.hc(2,1,e.horaInicio,"HH : mm"),"")}}function ue(e,t){1&e&&(a.Ub(0,"span",39),a.Bc(1," Sin hora"),a.Tb())}function he(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",40),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",20),a.Bc(2,"Atendido"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Rechazado"),a.Tb(),a.Ub(5,"option",23),a.Bc(6,"Pendiente"),a.Tb(),a.Ub(7,"option",22),a.Bc(8,"Aceptado"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}function ge(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",41),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",20),a.Bc(2,"Atendido"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Rechazado"),a.Tb(),a.Ub(5,"option",23),a.Bc(6,"Pendiente"),a.Tb(),a.Ub(7,"option",22),a.Bc(8,"Aceptado"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}function fe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",42),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",20),a.Bc(2,"Atendido"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Rechazado"),a.Tb(),a.Ub(5,"option",23),a.Bc(6,"Pendiente"),a.Tb(),a.Ub(7,"option",22),a.Bc(8,"Aceptado"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}function pe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",43),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",20),a.Bc(2,"Atendido"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Rechazado"),a.Tb(),a.Ub(5,"option",23),a.Bc(6,"Pendiente"),a.Tb(),a.Ub(7,"option",22),a.Bc(8,"Aceptado"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}const me=function(e){return["/dashboard","usuario",e]};function Te(e,t){if(1&e&&(a.Ub(0,"tr"),a.Ub(1,"td"),a.Bc(2),a.Tb(),a.Ub(3,"td"),a.Ub(4,"a",31),a.Bc(5),a.Tb(),a.Tb(),a.Ub(6,"td"),a.Bc(7),a.Tb(),a.Ub(8,"td"),a.Ac(9,se,3,4,"span",32),a.Ac(10,de,2,0,"span",33),a.Tb(),a.Ub(11,"td"),a.Ac(12,le,3,4,"span",32),a.Ac(13,ue,2,0,"span",33),a.Tb(),a.Ub(14,"td"),a.Ac(15,he,9,1,"select",34),a.Ac(16,ge,9,1,"select",35),a.Ac(17,fe,9,1,"select",36),a.Ac(18,pe,9,1,"select",37),a.Tb(),a.Tb()),2&e){const e=t.$implicit,i=t.index,c=a.ec(2);a.Bb(2),a.Ec("",c.desde+i+1," ",e.nroFicha,""),a.Bb(2),a.lc("routerLink",a.nc(14,me,e.paciente.usuario._id)),a.Bb(1),a.Ec(" ",e.paciente.nombre," ",e.paciente.apellido," "),a.Bb(2),a.Cc(e.paciente.celular),a.Bb(2),a.lc("ngIf",e.fecha),a.Bb(1),a.lc("ngIf",!e.fecha),a.Bb(2),a.lc("ngIf",e.horaInicio),a.Bb(1),a.lc("ngIf",!e.horaInicio),a.Bb(2),a.lc("ngIf","rechazado"==e.estado),a.Bb(1),a.lc("ngIf","aceptado"==e.estado),a.Bb(1),a.lc("ngIf","pendiente"==e.estado),a.Bb(1),a.lc("ngIf","atendido"==e.estado)}}function Ue(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",11),a.Ub(1,"div",12),a.Ub(2,"button",44),a.bc("click",(function(){a.rc(e);const t=a.ec(2);return t.cambiarPagina(0-t.entrada)})),a.Bc(3,"Anteriores"),a.Tb(),a.Bc(4," \xa0 "),a.Ub(5,"button",44),a.bc("click",(function(){a.rc(e);const t=a.ec(2);return t.cambiarPagina(t.entrada)})),a.Bc(6,"Siguientes"),a.Tb(),a.Tb(),a.Ub(7,"div",45),a.Ub(8,"div",46),a.Bc(9," Mostrar "),a.Ub(10,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec(2).entrada=t}))("change",(function(){return a.rc(e),a.ec(2).cargarFichaMedicas()})),a.Ub(11,"option",18),a.Bc(12,"5"),a.Tb(),a.Ub(13,"option",18),a.Bc(14,"10"),a.Tb(),a.Ub(15,"option",18),a.Bc(16,"25"),a.Tb(),a.Ub(17,"option",18),a.Bc(18,"50"),a.Tb(),a.Tb(),a.Bc(19," entradas "),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec(2);a.Bb(10),a.lc("ngModel",e.entrada),a.Bb(1),a.lc("ngValue",5),a.Bb(2),a.lc("ngValue",10),a.Bb(2),a.lc("ngValue",25),a.Bb(2),a.lc("ngValue",50)}}function Be(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",11),a.Ub(5,"div",12),a.Ub(6,"h4",13),a.Bc(7),a.Tb(),a.Ub(8,"h6",14),a.Bc(9,"Ficha Medicas registradas"),a.Tb(),a.Tb(),a.Tb(),a.Ub(10,"div",15),a.Ub(11,"div",16),a.Bc(12," Entradas "),a.Ub(13,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().entrada=t}))("change",(function(){return a.rc(e),a.ec().cargarFichaMedicas()})),a.Ub(14,"option",18),a.Bc(15,"5"),a.Tb(),a.Ub(16,"option",18),a.Bc(17,"10"),a.Tb(),a.Ub(18,"option",18),a.Bc(19,"25"),a.Tb(),a.Ub(20,"option",18),a.Bc(21,"50"),a.Tb(),a.Tb(),a.Tb(),a.Ub(22,"div",16),a.Bc(23," Estado "),a.Ub(24,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().estado=t}))("change",(function(){return a.rc(e),a.ec().cargarFichaMedicas()})),a.Ub(25,"option",19),a.Bc(26,"Todos"),a.Tb(),a.Ub(27,"option",20),a.Bc(28,"Atendido"),a.Tb(),a.Ub(29,"option",21),a.Bc(30,"Rechazado"),a.Tb(),a.Ub(31,"option",22),a.Bc(32,"Aceptado"),a.Tb(),a.Ub(33,"option",23),a.Bc(34,"Pendiente"),a.Tb(),a.Tb(),a.Tb(),a.Ub(35,"div",24),a.Bc(36," Orden "),a.Ub(37,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().sort=t}))("change",(function(){return a.rc(e),a.ec().cargarFichaMedicas()})),a.Ub(38,"option",18),a.Bc(39,"Nuevos"),a.Tb(),a.Ub(40,"option",18),a.Bc(41,"Antiguos"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(42,"div",25),a.Ub(43,"table",26),a.Ub(44,"thead"),a.Ub(45,"tr"),a.Ub(46,"th",27),a.Bc(47,"# ficha"),a.Tb(),a.Ub(48,"th"),a.Bc(49,"Paciente"),a.Tb(),a.Ub(50,"th"),a.Bc(51,"Celular"),a.Tb(),a.Ub(52,"th",28),a.Bc(53,"Fecha"),a.Tb(),a.Ub(54,"th",28),a.Bc(55,"Inicio"),a.Tb(),a.Ub(56,"th",28),a.Bc(57,"Estado"),a.Tb(),a.Tb(),a.Tb(),a.Ub(58,"tbody"),a.Ac(59,Te,19,16,"tr",29),a.Tb(),a.Tb(),a.Tb(),a.Ac(60,Ue,20,5,"div",30),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec(),t=a.qc(5);a.Bb(7),a.Fc("Mostrando ",e.desde+1," hasta ",e.desde+e.fichaMedicas.length," de ",e.totalFichaMedicas," ficha medicas"),a.Bb(6),a.lc("ngModel",e.entrada),a.Bb(1),a.lc("ngValue",5),a.Bb(2),a.lc("ngValue",10),a.Bb(2),a.lc("ngValue",25),a.Bb(2),a.lc("ngValue",50),a.Bb(4),a.lc("ngModel",e.estado),a.Bb(13),a.lc("ngModel",e.sort),a.Bb(1),a.lc("ngValue",-1),a.Bb(2),a.lc("ngValue",1),a.Bb(19),a.lc("ngForOf",e.fichaMedicas),a.Bb(1),a.lc("ngIf",0===t.value.length)}}let ve=(()=>{class e{constructor(e,t,i,c){this.usuarioService=e,this.busquedasService=t,this.modalImagenService=i,this.fichaMedicaService=c,this.totalFichaMedicas=0,this.fichaMedicas=[],this.fichaMedicasTemp=[],this.desde=0,this.entrada=10,this.sort=-1,this.role="todos",this.estado="todos",this.cargando=!0}ngOnDestroy(){}ngOnInit(){this.cargarFichaMedicas()}cargarFichaMedicas(){this.cargando=!0,this.fichaMedicaService.cargarFichaMedicas(this.desde,this.entrada,this.estado,this.sort).subscribe(({total:e,fichaMedicas:t})=>{console.log(t),this.totalFichaMedicas=e,this.fichaMedicas=t,this.fichaMedicasTemp=t,this.cargando=!1})}cambiarPagina(e){this.desde+=e,this.desde<0?this.desde=0:this.desde>=this.totalFichaMedicas&&(this.desde-=e),this.cargarFichaMedicas()}buscar(e){}cambiarRole(e){this.usuarioService.guardarUsuario(e).subscribe(e=>{console.log(e)})}cambiarEstado(e){return Object(W.a)(this,void 0,void 0,(function*(){switch(e.estado){case"rechazado":yield this.rechazarFichaMedica(e);break;case"aceptado":this.aceptarFichaMedica(e);break;default:this.fichaMedicaService.guardarFichaMedica(e).subscribe(e=>{console.log(e)})}}))}rechazarFichaMedica(e){return Object(W.a)(this,void 0,void 0,(function*(){const{value:t=""}=yield d.a.fire({title:"Crear Nota",text:"Ingresa una nota para el paciente",input:"text",inputPlaceholder:"Nota",showCancelButton:!0});t.trim().length>0&&(e.nota=t.trim(),this.fichaMedicaService.rechazarFichaMedica(e).subscribe(e=>{console.log(e)}))}))}aceptarFichaMedica(e){this.fichaMedicaService.aceptarFichaMedica(e).subscribe(e=>{console.log(e)})}abrirModal(e){this.modalImagenService.abrirModal("usuarios",e.uid,e.img)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(l.a),a.Ob($),a.Ob(O.a),a.Ob(re))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-ficha-medicas"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"d-flex","justify-content-end","py-3"],[1,"mx-3"],[1,"form-control","w100",3,"ngModel","ngModelChange","change"],[3,"ngValue"],["value","todos"],["value","atendido"],["value","rechazado"],["value","aceptado"],["value","pendiente"],[1,""],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w120"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[3,"routerLink"],["class","label label-info",4,"ngIf"],["class","label label-danger",4,"ngIf"],["value","fichaMedica.estado","class","form-control btn btn-secondary",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","form-control btn btn-success text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","form-control btn btn-warning text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","form-control btn btn-danger text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"label","label-info"],[1,"label","label-danger"],["value","fichaMedica.estado",1,"form-control","btn","btn-secondary",3,"ngModel","ngModelChange","change"],[1,"form-control","btn","btn-success","text-white",3,"ngModel","ngModelChange","change"],[1,"form-control","btn","btn-warning","text-white",3,"ngModel","ngModelChange","change"],[1,"form-control","btn","btn-danger","text-white",3,"ngModel","ngModelChange","change"],[1,"btn","btn-secondary",3,"click"],[1,"col"],[1,"text-right"]],template:function(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"input",4,5),a.bc("keyup",(function(){a.rc(e);const i=a.qc(5);return t.buscar(i.value)})),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ac(6,be,8,0,"div",6),a.Ac(7,Be,61,14,"div",6)}2&e&&(a.Bb(6),a.lc("ngIf",t.cargando),a.Bb(1),a.lc("ngIf",!t.cargando))},directives:[T.l,b.t,b.m,b.p,b.q,b.v,T.k,c.f],pipes:[T.e],encapsulation:2}),e})();function Me(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",7),a.Ub(3,"h4",8),a.Bc(4,"Cargando"),a.Tb(),a.Pb(5,"i",9),a.Ub(6,"p",10),a.Bc(7,"Por favor espere"),a.Tb(),a.Tb(),a.Tb(),a.Tb())}function Ie(e,t){if(1&e&&(a.Ub(0,"span",36),a.Bc(1),a.fc(2,"date"),a.Tb()),2&e){const e=a.ec().$implicit;a.Bb(1),a.Dc(" ",a.hc(2,1,e.fecha,"EEEE dd - MM - yy"),"")}}function Ce(e,t){1&e&&(a.Ub(0,"span",37),a.Bc(1," sin fecha"),a.Tb())}function ke(e,t){if(1&e&&(a.Ub(0,"span",36),a.Bc(1),a.fc(2,"date"),a.Tb()),2&e){const e=a.ec().$implicit;a.Bb(1),a.Dc(" ",a.hc(2,1,e.horaInicio,"HH : mm"),"")}}function Pe(e,t){1&e&&(a.Ub(0,"span",37),a.Bc(1," Sin hora"),a.Tb())}function ye(e,t){if(1&e){const e=a.Vb();a.Ub(0,"select",38),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().$implicit.estado=t}))("change",(function(){a.rc(e);const t=a.ec().$implicit;return a.ec(2).cambiarEstado(t)})),a.Ub(1,"option",20),a.Bc(2,"Atendido"),a.Tb(),a.Ub(3,"option",21),a.Bc(4,"Rechazado"),a.Tb(),a.Ub(5,"option",23),a.Bc(6,"Pendiente"),a.Tb(),a.Ub(7,"option",22),a.Bc(8,"Aceptado"),a.Tb(),a.Tb()}if(2&e){const e=a.ec().$implicit;a.lc("ngModel",e.estado)}}const we=function(e){return["/dashboard","usuario",e]},Ae=function(e){return["/dashboard","jitsi",e]};function xe(e,t){if(1&e&&(a.Ub(0,"tr"),a.Ub(1,"td"),a.Bc(2),a.Tb(),a.Ub(3,"td"),a.Ub(4,"a",31),a.Bc(5),a.Tb(),a.Tb(),a.Ub(6,"td"),a.Bc(7),a.Tb(),a.Ub(8,"td"),a.Ac(9,Ie,3,4,"span",32),a.Ac(10,Ce,2,0,"span",33),a.Tb(),a.Ub(11,"td"),a.Ac(12,ke,3,4,"span",32),a.Ac(13,Pe,2,0,"span",33),a.Tb(),a.Ub(14,"td"),a.Ub(15,"button",34),a.Bc(16,"iniciar sala"),a.Tb(),a.Ac(17,ye,9,1,"select",35),a.Tb(),a.Tb()),2&e){const e=t.$implicit,i=t.index,c=a.ec(2);a.Bb(2),a.Ec("",c.desde+i+1," ",e.nroFicha,""),a.Bb(2),a.lc("routerLink",a.nc(12,we,e.paciente.usuario._id)),a.Bb(1),a.Ec(" ",e.paciente.nombre," ",e.paciente.apellido," "),a.Bb(2),a.Cc(e.paciente.celular),a.Bb(2),a.lc("ngIf",e.fecha),a.Bb(1),a.lc("ngIf",!e.fecha),a.Bb(2),a.lc("ngIf",e.horaInicio),a.Bb(1),a.lc("ngIf",!e.horaInicio),a.Bb(2),a.lc("routerLink",a.nc(14,Ae,e._id)),a.Bb(2),a.lc("ngIf","atendido"==e.estado)}}function Se(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",11),a.Ub(1,"div",12),a.Ub(2,"button",39),a.bc("click",(function(){a.rc(e);const t=a.ec(2);return t.cambiarPagina(0-t.entrada)})),a.Bc(3,"Anteriores"),a.Tb(),a.Bc(4," \xa0 "),a.Ub(5,"button",39),a.bc("click",(function(){a.rc(e);const t=a.ec(2);return t.cambiarPagina(t.entrada)})),a.Bc(6,"Siguientes"),a.Tb(),a.Tb(),a.Ub(7,"div",40),a.Ub(8,"div",41),a.Bc(9," Mostrar "),a.Ub(10,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec(2).entrada=t}))("change",(function(){return a.rc(e),a.ec(2).cargarFichaMedicas()})),a.Ub(11,"option",18),a.Bc(12,"5"),a.Tb(),a.Ub(13,"option",18),a.Bc(14,"10"),a.Tb(),a.Ub(15,"option",18),a.Bc(16,"25"),a.Tb(),a.Ub(17,"option",18),a.Bc(18,"50"),a.Tb(),a.Tb(),a.Bc(19," entradas "),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec(2);a.Bb(10),a.lc("ngModel",e.entrada),a.Bb(1),a.lc("ngValue",5),a.Bb(2),a.lc("ngValue",10),a.Bb(2),a.lc("ngValue",25),a.Bb(2),a.lc("ngValue",50)}}function $e(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",11),a.Ub(5,"div",12),a.Ub(6,"h4",13),a.Bc(7),a.Tb(),a.Ub(8,"h6",14),a.Bc(9,"Ficha Medicas registradas"),a.Tb(),a.Tb(),a.Tb(),a.Ub(10,"div",15),a.Ub(11,"div",16),a.Bc(12," Entradas "),a.Ub(13,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().entrada=t}))("change",(function(){return a.rc(e),a.ec().cargarFichaMedicas()})),a.Ub(14,"option",18),a.Bc(15,"5"),a.Tb(),a.Ub(16,"option",18),a.Bc(17,"10"),a.Tb(),a.Ub(18,"option",18),a.Bc(19,"25"),a.Tb(),a.Ub(20,"option",18),a.Bc(21,"50"),a.Tb(),a.Tb(),a.Tb(),a.Ub(22,"div",16),a.Bc(23," Estado "),a.Ub(24,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().estado=t}))("change",(function(){return a.rc(e),a.ec().cargarFichaMedicas()})),a.Ub(25,"option",19),a.Bc(26,"Todos"),a.Tb(),a.Ub(27,"option",20),a.Bc(28,"Atendido"),a.Tb(),a.Ub(29,"option",21),a.Bc(30,"Rechazado"),a.Tb(),a.Ub(31,"option",22),a.Bc(32,"Aceptado"),a.Tb(),a.Ub(33,"option",23),a.Bc(34,"Pendiente"),a.Tb(),a.Tb(),a.Tb(),a.Ub(35,"div",24),a.Bc(36," Orden "),a.Ub(37,"select",17),a.bc("ngModelChange",(function(t){return a.rc(e),a.ec().sort=t}))("change",(function(){return a.rc(e),a.ec().cargarFichaMedicas()})),a.Ub(38,"option",18),a.Bc(39,"Nuevos"),a.Tb(),a.Ub(40,"option",18),a.Bc(41,"Antiguos"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(42,"div",25),a.Ub(43,"table",26),a.Ub(44,"thead"),a.Ub(45,"tr"),a.Ub(46,"th",27),a.Bc(47,"# ficha"),a.Tb(),a.Ub(48,"th"),a.Bc(49,"Paciente"),a.Tb(),a.Ub(50,"th"),a.Bc(51,"Celular"),a.Tb(),a.Ub(52,"th",28),a.Bc(53,"Fecha"),a.Tb(),a.Ub(54,"th",28),a.Bc(55,"Inicio"),a.Tb(),a.Ub(56,"th",28),a.Bc(57,"Estado"),a.Tb(),a.Tb(),a.Tb(),a.Ub(58,"tbody"),a.Ac(59,xe,18,16,"tr",29),a.Tb(),a.Tb(),a.Tb(),a.Ac(60,Se,20,5,"div",30),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.ec(),t=a.qc(5);a.Bb(7),a.Fc("Mostrando ",e.desde+1," hasta ",e.desde+e.fichaMedicas.length," de ",e.totalFichaMedicas," ficha medicas"),a.Bb(6),a.lc("ngModel",e.entrada),a.Bb(1),a.lc("ngValue",5),a.Bb(2),a.lc("ngValue",10),a.Bb(2),a.lc("ngValue",25),a.Bb(2),a.lc("ngValue",50),a.Bb(4),a.lc("ngModel",e.estado),a.Bb(13),a.lc("ngModel",e.sort),a.Bb(1),a.lc("ngValue",-1),a.Bb(2),a.lc("ngValue",1),a.Bb(19),a.lc("ngForOf",e.fichaMedicas),a.Bb(1),a.lc("ngIf",0===t.value.length)}}const Oe=[{path:"",component:n,data:{titulo:"Dashboard"}},{path:"account-settings",component:r,data:{titulo:"Ajustes de cuenta"}},{path:"perfil",component:w,data:{titulo:"Perfil de usuario"}},{path:"jitsi/:id",component:ae,data:{titulo:"jitsi"}},{path:"fichamedicas",component:ve,data:{titulo:"Matenimiento de Ficha medicas"}},{path:"citamedicas",component:(()=>{class e{constructor(e,t,i,c){this.usuarioService=e,this.busquedasService=t,this.modalImagenService=i,this.fichaMedicaService=c,this.totalFichaMedicas=0,this.fichaMedicas=[],this.fichaMedicasTemp=[],this.desde=0,this.entrada=10,this.sort=-1,this.estado="aceptado",this.cargando=!0}ngOnDestroy(){}ngOnInit(){this.cargarFichaMedicas()}cargarFichaMedicas(){this.cargando=!0,this.fichaMedicaService.cargarFichaMedicas(this.desde,this.entrada,this.estado,this.sort).subscribe(({total:e,fichaMedicas:t})=>{console.log("fichaMedicas"),console.log(t),this.totalFichaMedicas=e,this.fichaMedicas=t,this.fichaMedicasTemp=t,this.cargando=!1})}cambiarPagina(e){this.desde+=e,this.desde<0?this.desde=0:this.desde>=this.totalFichaMedicas&&(this.desde-=e),this.cargarFichaMedicas()}buscar(e){}cambiarRole(e){this.usuarioService.guardarUsuario(e).subscribe(e=>{console.log(e)})}cambiarEstado(e){console.log("fichaMedica"),console.log(e),this.fichaMedicaService.guardarFichaMedica(e).subscribe(e=>{console.log(e)})}abrirModal(e){this.modalImagenService.abrirModal("usuarios",e.uid,e.img)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(l.a),a.Ob($),a.Ob(O.a),a.Ob(re))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-cita-medicas"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario...",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"d-flex","justify-content-end","py-3"],[1,"mx-3"],[1,"form-control","w100",3,"ngModel","ngModelChange","change"],[3,"ngValue"],["value","todos"],["value","atendido"],["value","rechazado"],["value","aceptado"],["value","pendiente"],[1,""],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w120"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[3,"routerLink"],["class","label label-info",4,"ngIf"],["class","label label-danger",4,"ngIf"],[1,"btn","btn-secondary",3,"routerLink"],["class","form-control btn btn-danger text-white",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"label","label-info"],[1,"label","label-danger"],[1,"form-control","btn","btn-danger","text-white",3,"ngModel","ngModelChange","change"],[1,"btn","btn-secondary",3,"click"],[1,"col"],[1,"text-right"]],template:function(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"input",4,5),a.bc("keyup",(function(){a.rc(e);const i=a.qc(5);return t.buscar(i.value)})),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ac(6,Me,8,0,"div",6),a.Ac(7,$e,61,14,"div",6)}2&e&&(a.Bb(6),a.lc("ngIf",t.cargando),a.Bb(1),a.lc("ngIf",!t.cargando))},directives:[T.l,b.t,b.m,b.p,b.q,b.v,T.k,c.f,c.d],pipes:[T.e],encapsulation:2}),e})(),data:{titulo:"Cita Medicas"}},{path:"usuario/:id",component:Z,data:{titulo:"Perfil publico de usuario"}},{path:"citamedicas",component:ve,data:{titulo:"Citas Medicas"}},{path:"usuarios",canActivate:[K],component:G,data:{titulo:"Matenimiento de Usuarios"}}];let Fe=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[c.g.forChild(Oe)],c.g]}),e})()}}]);